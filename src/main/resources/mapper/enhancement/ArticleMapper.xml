<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yi.enhancement.mapper.ArticleMapper">
    <select id="pageArticleDTO" resultType="com.yi.enhancement.model.dto.ArticleDTO">
        SELECT
            id,
            title,
            stamp,
            comments,
            original,
            published,
            recommend,
            appreciate,
            views,
            create_time,
            update_time,
            category_id,
            user_id
        FROM
            article
        where 1 = 1
        <if test="title != null and title != ''">
            and title like CONCAT('%', #{title},'%')
        </if>
        <if test="status != null">
            and status = #{status}
        </if>
        <if test="categoryId != null">
            and category_id = #{categoryId}
        </if>
        <if test="articleIdList != null">
            and id in
            <foreach collection="articleIdList" item="id" open="(" close=")" separator=",">
                #{id}
            </foreach>
        </if>
        ORDER BY
        update_time DESC
    </select>
    <select id="pageArticleDTOWeb" resultType="com.yi.enhancement.model.dto.ArticleDTO">
        SELECT
        id,
        title,
        create_time,
        update_time
        FROM
        article
        ORDER BY
        update_time DESC
    </select>
</mapper>
