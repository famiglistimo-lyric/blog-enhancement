<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>lyric--一个努力学习的开发人</title>
    <link rel="stylesheet" th:href="@{/css/semantic.min.css}">
    <link rel="stylesheet" th:href="@{/css/enhancement.css}">
    <link rel="stylesheet" th:href="@{/css/ulola.css}">
    <link rel="stylesheet" th:href="@{/css/wallhaven.css}">
    <link rel="stylesheet" th:href="@{/css/font-awesome.min.css}">
    <link rel="stylesheet" th:href="@{/css/iconfont.css}">
    <link rel="stylesheet" th:href="@{/css/animate.css}"/>
    <link rel='stylesheet' th:href="@{/lib/nprogress/nprogress.css}"/>
    <link rel="stylesheet" th:href="@{/lib/prism/prism.css}">
    <link rel="stylesheet" th:href="@{/css/typo.css}">
</head>
<body>
<div th:replace="_fragments :: menu(2)"></div>
<div class="ui fluid container">
    <div class="ui grid" style="margin:auto">
        <div class="ui three wide column mobile-hidden" style="margin-top: 50px">
            <div class="ui segment left aligned m-shadow m-block-display-color animate__animated animate__fadeIn">
                <div style="padding: 5px 15px">
                    <div style="display: flex;align-items: flex-start;justify-content: flex-start">
                        <i class="m-special-font-style m-big-iconfont icon-file-copy"></i>
                        <span class="m-special-font-style" style="font-weight: normal;font-size: 20px;margin-left: 5px">文章分类</span>
                    </div>
                    <ul id="categories">
                        <li class="tag tag-nsfw" th:each="category : ${categoryList}">
                            <a class="tag-name" href="" th:if="${category.hit == false}" th:text="${category.name}+' ('+${category.articleCounts}+')'"></a>
                            <a class="tag-name" style="background-color: #5c3d3d" href="" th:if="${category.hit == true}" th:text="${category.name}+' ('+${category.articleCounts}+')'"></a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="ui segment left aligned m-shadow m-block-display-color animate__animated animate__fadeIn">
                <div style="padding: 5px 15px">
                    <div style="display: flex;align-items: flex-start;justify-content: flex-start">
                        <i class="m-special-font-style m-big-iconfont icon-tags"></i>
                        <span class="m-special-font-style" style="font-weight: normal;font-size: 20px;margin-left: 5px">文章标签</span>
                    </div>
                    <ul id="tags">
                        <li class="tag tag-sfw" th:each="tag : ${tagList}">
                            <a class="tag-name" href="" th:if="${tag.hit == false}" th:text="${tag.name}+' ('+${tag.articleCounts}+')'"></a>
                            <a class="tag-name" style="background-color: #3d5c3d" href="" th:if="${tag.hit == true}" th:text="${tag.name}+' ('+${tag.articleCounts}+')'"></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="ui eleven wide column animate__animated animate__fadeIn" style="margin-top: 50px;">
            <div class="m-shadow">
                <div class="ui segment" style="background: inherit">
                    <div style="display: flex;justify-content: flex-start;align-items: center;">
                        <img class="ui small circular image" th:src="${user.avatar}"
                             style="width: 50px;margin-left: 20px">
                        <div style="font-size: 25px;margin-left: 20px" th:text="${user.nickname}"><p></p></div>
                        <div class="" style="margin-left: 20px">
                            <i class="ui calendar icon"></i><span
                                th:text="${#dates.format(article.updateTime,'yyyy-MM-dd')}"></span>
                        </div>
                        <div style="margin-left: 20px">
                            <i class="ui eye icon"></i><span th:text="${article.views}"></span>
                        </div>
                        <div class="ui inverted teal basic button" style="margin-left:auto"
                             th:text="${article.stampString}">待填充
                        </div>
                    </div>
                    <div class="ui">
                        <h2 class="ui center aligned header m-font-pattern" th:text="${article.title}">待填充</h2>
                        <br>
                    </div>
                    <!--文章真正的内容-->
                    <div style="padding: 0 30px 0 30px ">
                        <div id="content" class="enhancement-content markdown "
                             style="text-align: left;margin-top: 20px;" th:utext="${article.content}">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script th:src="@{/lib/prism/prism.js}"></script>
<th:block th:replace="_fragments :: script">

</th:block>
<script>
    /*节流*/
    let timer = 0;
    window.addEventListener('scroll',
        () => {
            if (!timer) {
                timer = setTimeout(() => {
                    this.handleScroll()
                    timer = 0
                }, 250)
            }
        })

    function handleScroll() {
        // 屏幕剩余的高度
        let surplus =
            document.documentElement.scrollHeight -
            document.documentElement.clientHeight;
        // 当前滑动高度
        let scrollY = document.documentElement.scrollTop;
        // 当前位置百分比小数
        let coorY = scrollY / surplus;
        // 设置导航栏，这里使用NProgress.set() 动态更改进度条
        NProgress.set(coorY);
    }
</script>
</body>
</html>